INFO FOR CODEX
Ultimo aggiornamento: 2026-02-04

Scopo del progetto
Family Meal Planner è una web app per la gestione dei pasti in famiglia. Consente di pianificare pranzi e cene su calendario, gestire un catalogo piatti con ingredienti, generare la lista della spesa e suggerire pasti per evitare ripetizioni e mantenere un’alimentazione bilanciata. Supporta l’uso multi‑famiglia con inviti e dati isolati per nucleo.

Com’è costruita
- Frontend: Next.js 14 (App Router) con TypeScript, React Bootstrap e FullCalendar.
- Backend: Node.js + Express con TypeScript.
- Database: PostgreSQL con Prisma ORM.
- Autenticazione: OAuth 2.0 (Google, GitHub) con sessioni server-side.

Cosa fa (stato attuale)
- Autenticazione OAuth e gestione sessione.
- Gestione famiglia: info, aggiornamento, inviti e lista inviti.
- Gestione piatti: CRUD con categorie e ingredienti.
- Pianificazione pasti: CRUD per pranzi/cene su base settimanale.
- Suggerimenti pasti: evita ripetizioni recenti, limita uso e bilancia la settimana.
- Lista spesa: generazione da ingredienti dei pasti pianificati e spunta acquisti.
- Interfaccia: dashboard, calendario, piatti, spesa, impostazioni, login e inviti.

Cosa dovrebbe fare (prossimi passi noti)
- Rifinire la UX del calendario e la modifica rapida dei pasti.
- Migliorare il sistema di suggerimenti con preferenze e vincoli nutrizionali.
- Agganciare flussi completi di invito e onboarding per nuovi membri.

Note operative
- Backend: `backend/` con Prisma e migrazioni.
- Frontend: `frontend/` con pagine App Router.
- Avvio: vedere `install.txt`.
 - Flusso multi‑tab: un branch per tab; sincronizzare su `develop`.

Stato branch
- Branch attuale: feature/gestione-calendario.
- Branch principali: main (production), develop (sviluppo).

Prossimo obiettivo
- Iterare su UX calendario e modifica rapida dei pasti.

Changelog
- 2026-02-02: Creato infoForCodex.txt con descrizione iniziale del progetto.
- 2026-02-02: Aggiunte note sul flusso multi‑tab e branching parallelo.
- 2026-02-04: Redesign UI basato su v4 (gradienti, bubble cards, day pills) su dashboard, calendario, spesa e impostazioni.
- 2026-02-04: Fix calendario (range visibile, date click senza shift, parsing date‑only UTC) e alert duplicati.
- 2026-02-04: Dashboard aggiornata a settimana lun‑dom con navigazione e modal add‑meal inline.
- 2026-02-04: Day strip dashboard: badge "Oggi" e highlight giallo per oggi/selected.
- 2026-02-04: Calendario non si resetta al mese corrente durante la navigazione (loading overlay senza unmount).
- 2026-02-04: Calendario ottimizzato con caching (placeholder data) per ridurre flicker durante la navigazione.
- 2026-02-04: Aggiunto micro‑spinner di stato nel titolo Calendario durante fetch.
